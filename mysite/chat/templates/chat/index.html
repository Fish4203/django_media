{% extends 'base.html' %}

{% block content %}
<div class="fluid-container">

    <div class="p-3 jumbotron mx-auto" style="width: 50%;">
      <h2>Chat rooms</h2>
      <p>You can join chat rooms by entering the chat romm id or by selecting one of the chat rooms below</p>
    </div>


    {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

    <div class="card mx-auto" style="width: 50%;">
      <div class="card-header">
        <h2>What chat room would you like to enter?</h2>
      </div>
      <div class="card-body">


        <input class="form-group" id="room-name-input" type="text" size="100" placeholder="ID"><br>
        <input class='btn btn-success' id="room-name-submit" type="button" value="Enter">

        <script>
            document.querySelector('#room-name-input').focus();
            document.querySelector('#room-name-input').onkeyup = function(e) {
                if (e.keyCode === 13) {  // enter, return
                    document.querySelector('#room-name-submit').click();
                }
            };

            document.querySelector('#room-name-submit').onclick = function(e) {
                var roomName = document.querySelector('#room-name-input').value;
                window.location.pathname = '/chat/' + roomName + '/';
            };
        </script>

      </div>
    </div>

</div>
{% endblock %}
